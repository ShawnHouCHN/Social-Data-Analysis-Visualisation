<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Social Data Analysis and Visualisation - Project Assignment</title>

    

    <!-- Bootstrap Core CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link href="css/landing-page.css" rel="stylesheet">
    <link href="css/animate.css" rel="stylesheet">
    <!-- Custom Fonts -->
    <link href="font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Lato:300,400,700,300italic,400italic,700italic" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <link rel="stylesheet" type="text/css" href="css/style.css">

  </head>

  <body id="page-top" data-spy="scroll" data-target=".navbar-fixed-top">

  <!-- Return to Top -->
  <a href="#" id="return-to-top"><i class="fa fa-arrow-up" aria-hidden="true"></i></a>
      <!-- Navigation -->
  <nav class="navbar navbar-default navbar-fixed-top topnav" role="navigation">
        <div class="container topnav">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand topnav page-scroll" href="#page-top">DTU Project</a>
            </div>
            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a class="page-scroll" href="#prointro">Intro</a>
                    </li>
                    <li class="dropdown">
                        <a class="dropdown-toggle page-scroll" href="#preliminary" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Preliminary Analysis</a>
                        <ul class="dropdown-menu" role="menu">
                            <li><a class="page-scroll" href="#temporal">Accident Distribution(Timeline)</a></li>
                            <li><a class="page-scroll" href="#spatial">Accident Distribution(Location)</a></li>
                        </ul>
                    </li>
                    <li class="dropdown">
                        <a class="dropdown-toggle page-scroll" href="#machinelearning" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Machine Learning</a>
                        <ul class="dropdown-menu" role="menu">
                            <li><a class="page-scroll" href="#featurenet">Feature Net</a></li>
                            <li><a class="page-scroll" href="#performance">Models Accuracy</a></li>
                        </ul>
                    </li>
					<li class="dropdown">
                        <a class="dropdown-toggle" href="#" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Downloads</a>
                        <ul class="dropdown-menu">
                            <li><a href="http://nbviewer.jupyter.org/url/shawnhouchn.github.io/Social-Graph-Interaction/project/project_assignmentB.ipynb" target="_blank">iPython Notebook (Preview)</a></li>
                            <li><a href="https://shawnhouchn.github.io/Social-Graph-Interaction/project/project_assignmentB.ipynb" target="_blank">iPython Notebook (Download)</a></li>
                            <li><a href="https://drive.google.com/file/d/0Byd_stTDMHZAVTdEV0xsVXpTSjg/view" target="_blank">GitHub Repository</a></li>
                            <li><a href="https://drive.google.com/file/d/0BymjCBWE7wFzWHhyV2Y5NjQwX1U/view?usp=sharing" target="_blank">Merged data (Download)</a></li>
                        </ul>
                    </li>
                </ul>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container -->
    </nav>

    <!-- Header -->
    <div class="intro-header">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <div class="intro-message">
                        <h1>NYC Car Accidents Analysis</h1>
                        <hr class="intro-divider-top">
                        <iframe class="vcenterVideo" width="560" height="315" src="https://www.youtube.com/embed/-pOYAXyQRi4" frameborder="0" allowfullscreen></iframe>
                        <h3>Submission to DTU 02806 Social Data Analyse and Visualisation</h3>
                        <hr class="intro-divider">
                        <ul class="list-inline intro-social-buttons">
                            <li>
                                <a href="http://nbviewer.jupyter.org/github/ShawnHouCHN/SDAV2017-Assignment2/blob/master/week_5/week_5_exercises.ipynb" class="btn btn-default btn-lg"><i class="fa fa-cloud fa-fw"></i> <span class="network-name">Notebook</span></a>
                            </li>
                            <li>
                                <a href="https://drive.google.com/file/d/0BymjCBWE7wFzWHhyV2Y5NjQwX1U/view?usp=sharing" class="btn btn-default btn-lg"><i class="fa fa-book fa-fw"></i> <span class="network-name">Dataset</span></a>
                            </li>
                            <li>
                                <a href="https://github.com/ShawnHouCHN/SDAV2017-Assignment2/tree/master/Assignment2" class="btn btn-default btn-lg"><i class="fa fa-github fa-fw"></i> <span class="network-name">Github</span></a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>

        </div>
        <!-- /.container -->

    </div>

    <section id="foreword">
    <div class="content-section-foreword">
    <div class="container">
        <div class="row">
                <div class="col-md-4 hideme">
                 	<div class="clearfix"></div>
                    <h5 class="blue-text">Foreword:</h5> 
                    <P class="blue-text">The corresponding jupyter notebook can be previewed or downloaded by clicking the dropdown list to the right of the navigation bar. The notebook is relatively <span class="orange-text">long and abundant</span> so it will take some time to load. Some of the plots in the notebook depend heavily on JS rendering so it is better to be viewed in <span class="orange-text">nbviewer</span>. </P>  
                </div>
        </div>
    </div>
    </div>
    </section>

    <section id="prointro">
     <div class="content-section-intro">
        <div class="container">
            <div class="row">
                 <h2 class="section-heading">Intro</h2>
                <hr class="header-divider-top">
                <div class="col-sm-8 pull-right hideme">
                    <h3 class="section-subheading">Motivation</h2>
                    <hr class="subheader-divider-top">
                    <P class="blue-text">We choose to work with NYPD Collision Data, since it is basicly a matter of <span class="orange-text">life and death</span>. If we could make a breakthrough and determine the main causalities of traffic accidents in New York, preventive measures could be taken and traffic related injuries and fatalities can be reduced. This could prevent reduction in lifequality and safe the city of New York a lot of money.
                </div>
            </div>

        </div>
        <!-- /.container -->
        <br><br>
        <div class="container">
            <div class="row">
              <div class="row-height">
                <div class="col-md-6 col-sm-6 col-height col-top hideme">
                    <h3 class="section-subheading">About the Datasets</h2>
                    <hr class="subheader-divider-top">
                    <P class="blue-text">The project focus on analysing the motor vehicle accidents in NYC registered since July 1st 2012. The original dataset can be extracted from Open City website at <a class="dataset-link" href="https://data.cityofnewyork.us/Public-Safety/NYPD-Motor-Vehicle-Collisions/h9gi-nx95" >NYPD Motor Vehicle Collisions | NYC Open Data</a>. Besides, two addictional datasets are used and merged with the fundemental dataset into an integration. One is the speed limit data given by  <a class="dataset-link" href="http://www.nyc.gov/html/dot/html/about/vz_datafeeds.shtml">NYC DOT</a>, the other is the weather data extracted from  <a class="dataset-link"  href="https://www.wunderground.com/">Weather Underground</a>. As weather undergound API requires a valid license, the data embedded into the project is extracted by scrapping the website by <a class="dataset-link" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/">Beautifulsoup 4</a> and manually parsed it afterwards. The integrated dataset (CSV) can be downloaded at <a class="dataset-link" href="https://drive.google.com/file/d/0BymjCBWE7wFzWHhyV2Y5NjQwX1U/view?usp=sharing">here</a>.
                    <P class="blue-text"> This website introduces two main sections of the analysis. Firstly, preliminary analysis is performed against the dataset including analysing of the spatio and temporal distribution of accidents. Secondly, Several Machine learning models are implmented on the dataset including clustering, correlations and etc. 
                </div>

                <div class="col-md-6 col-sm-6 hideme col-height col-middle">
            
                 <div class="row clearfix icon-group">
                    <div class="col-xs-4" id="icon-box">
                       <span><i class="fa fa-car fa-4x icon " aria-hidden="true"></i></span>
                    </div>
                    <div class="col-xs-4" id="icon-box">
                        <span><i class="fa fa-umbrella fa-4x icon" aria-hidden="true"></i></span>
                    </div>
                    <div class="col-xs-4" id="icon-box">
                        <span><i class="fa fa-tachometer fa-4x icon" aria-hidden="true"></i></span>
                    </div>
                 </div>
                
                </div>

              </div>

            </div>

        </div>

    </div>
    </section>

    <section id="preliminary">
    <div class="content-section-preliminary">
    	
    	 <div class="container">
            <div class="row">
            	<h2 class="section-heading text-right hideme">Preliminary Analysis</h2>
            	<hr class="header-divider-top hideme">
                <div>
                <section id="temporal">
                    <div class="clearfix"></div>
                    <h3 class="section-subheading hideme">Temporal Distribution</h2>
                    <hr class="subheader-divider-top hideme">
                    <P class="blue-text hideme">There are several bar charts included in this section to reveal some statstic natures of the integrated dataset we work on. Some interesting perspectives are visualised and analysed afterwards. <span class="orange-text">D3.js and Plotly.js </span> are both used for the plots in this section below.</P>

                    <div class="hideme" id="monthly-all" style="width:100%; height: 600px">
	                    <div class="clearfix"></div>
						<h4 class="orange-text"><i class="fa fa-hand-o-right" aria-hidden="true"></i> 1. Monthly Statistic of Accidents</h4>
						<div id="month-plotly" style="width:100%; height: 400px"></div>
						<div class="clearfix"></div>

						<P class="blue-text">The barchart above shows the monthly statistic of accident which caused any casualties. The plot is fully interactive. You can hide different groups by clicking the legends or zoom in/out to check the details.</P>

						<P class="blue-text">The overall tendency is  <span class="orange-text">downhilling</span>. The amount of accidents that caused death is <span class="orange-text">generally siginificant lower</span> than the ones caused injury. Meanwhile, an interesting <span class="orange-text">drop occurs in the data from July to Sepetember in 2016</span>.  <a class="dataset-link" href="http://www1.nyc.gov/site/visionzero/news/news.page">DOT</a> as well as NYPD have performed a series of actions to improve the traffic safety in this period which can be seen as the main reason leading to the reduction on the plot. </P>

					</div>

					<div class="hideme" id="yearly-all" style="width:100%; height: 600px">
						<div class="clearfix"></div>
						<h4 class="orange-text"><i class="fa fa-hand-o-right" aria-hidden="true"></i> 2. Yearly Statistic of Accidents in Each District</h4>
						<P class="blue-text">The donut chart below shows the yearly statistic of accident cases in each district. The chart is interactive and the summation of accident of different districts are displayed in the core of the "donut" while mouse is hovering over. Slide "Thumb" below to check difference between years.
						</P>
						<br>
						<div class="range-slider">
							<input class="range-slider__range" type="range" value="2012" min="2012" max="2017" step="1">
							<span class="range-slider__value">0</span>
						</div>
						<div id="donut-content">
							<P class="blue-text">
							<span class="orange-text">While the thumb above slides from 2012 to 2017</span>, Even though data in 2012 and 2017 are incomplete, the precentage of amount of accident of each district against yearly summation in the plot <span class="orange-text">rarely changes</span> during the time. The rank is consistently fixed as below. 
							</P>
							<ul class="custom-bullet orange-text">
							<li>Brooklyn</li>
							<li>Manhattan</li>
							<li>Queens</li>
							<li>Bronx</li>
							<li>Staten Island</li>
							</ul>
						</div>
						<div id="donut-chart"></div>
					</div>
                    <br>
                </section>


    			<section id="spatial">
                    <div class="clearfix"></div>
                    <h3 class="section-subheading hideme">Spatial Distribution</h2>
                    <hr class="subheader-divider-top hideme">
                    <P class="blue-text hideme">The locations of accident scenes are analyzed in this section. The maps reveal the geographical distributions of accidents. We used <a class="dataset-link" href="https://folium.readthedocs.io/en/latest/" >Folium.js</a> to plot the maps and make data visualisation interactive.  </P>
					
                    <div class="hideme" id="folium-top-10-all" style="width:100%; height: 550px">
						<div id="folium-top-10-content">
						 	<div class="clearfix"></div>
							<h4 class="orange-text"><i class="fa fa-hand-o-right" aria-hidden="true"></i> 1. Top 10 Dangerous corners in NYC</h4>
							<P class="blue-text"> The interactive map to the right shows the <span class="orange-text">top 10 most</span> accident-occurred cross/streets in NYC since July 1st 2012. The <span class="orange-text">color of dots</span> are rendered accordingly based on the amount of accidents happened at that location. The more accident occurred/reported, more red the dot is. Top 10 most dangerous S
							street names can be seen by <span class="orange-text">clicking the dots</span>.
							</P>
							<P class="blue-text">The plot reveals that the cross between <span class="orange-text">Tillary Street </span>and <span class="orange-text">Manhattan Bridge</span> has registered most amount of accidents since July 1st 2012.
							</P>
							<P class="blue-text">Same map as well as detailed analysis can be found in the notebook</P>
						</div>
						<div id="folium-top-10-div" style="float:right; display: inline-block; width:50%;">
							<iframe id="folium-top-10-frame" src="map.html" style="width:100%; height: 500px" frameborder="2">
							</iframe>
						</div>
					</div>


                    <div class="hideme" id="folium-heatmap-all" style="width:100%; height: 550px">
                    	<h4 class="orange-text"><i class="fa fa-hand-o-right" aria-hidden="true"></i> 2. Heatmap of each year</h4>
                    	<div class="clearfix"></div>
	                    <ul class="nav nav-tabs year-nav">
	                        <li class="active"><a class="tabthree blue-text" data-toggle="tab" href="#tabtwl">2012</a></li>
	                        <li><a class="tabften blue-text" data-toggle="tab" href="#tabthrt">2013</a></li>
	                        <li><a class="tabften blue-text" data-toggle="tab" href="#tabfort">2014</a></li>
	                        <li><a class="tabften blue-text" data-toggle="tab" href="#tabfift">2015</a></li>
	                        <li><a class="tabften blue-text" data-toggle="tab" href="#tabsixt">2016</a></li>
	                        <li><a class="tabften blue-text" data-toggle="tab" href="#tabsevt">2017</a></li>
	                    </ul>
                        <div lcass="heat-content">
                            <P class="blue-text">
                            On the plot below can see a heat map of all collisions found in the dataset. Hotter areas (meaning stronger red color) is correlated with the number of accidents in a given area. The map offers the ability to switch between years (using the slider) and also zooming in/out to better visualise certain areas.
                            </P> 
                            <P class="blue-text">
                            It should be noted that when zooming in, one can see that many of the accidents are marked as happening on intersections. This makes intuitive sense, as intersections are often where accidents case. However it is also possible that in some cases the police officers that noted down the accident marked it as happening on an intersection for convenience.  
                            </P>                          
                        </div>
	                    <div class="tab-content">
	                      <div id="tabtwl" class="tab-pane fade in active">
	                        <h5 class="orange-text">Heatmap 2012 </h5>
							<iframe id="tabtwl-frame" src="heatmap12.html" style="width:800px; height: 400px; display: block; margin-left: auto; margin-right: auto;" frameborder="2">
							</iframe>
	                      </div>
	                      <div id="tabthrt" class="tab-pane fade">
	                        <h5 class="orange-text">Heatmap 2013 </h5>
	                        <iframe id="tabthrt-frame" src="heatmap13.html" style="width:800px; height: 400px; display: block; margin-left: auto; margin-right: auto;" frameborder="2">
							</iframe>
	                      </div>
	                       <div id="tabfort" class="tab-pane fade">
	                        <h5 class="orange-text">Heatmap 2014 </h5>
	                       	<iframe id="tabfort-frame" src="heatmap14.html" style="width:800px; height: 400px; display: block; margin-left: auto; margin-right: auto;" frameborder="2">
							</iframe>
	                      </div>
	                      <div id="tabfift" class="tab-pane fade">
	                        <h5 class="orange-text">Heatmap 2015 </h5>
	                       	<iframe id="tabfift-frame" src="heatmap15.html" style="width:800px; height: 400px; display: block; margin-left: auto; margin-right: auto;" frameborder="2">
							</iframe>
	                      </div>
	                      <div id="tabsixt" class="tab-pane fade">
	                        <h5 class="orange-text">Heatmap 2016 </h5>
	                        <iframe id="tabsixt-frame" src="heatmap16.html" style="width:800px; height: 400px; display: block; margin-left: auto; margin-right: auto;" frameborder="2">
							</iframe>
	                      </div>
	                      <div id="tabsevt" class="tab-pane fade">
	                        <h5 class="orange-text">Heatmap 2017 </h5>
	                        <iframe id="tabsevt-frame" src="heatmap17.html" style="width:800px; height: 400px; display: block; margin-left: auto; margin-right: auto;" frameborder="2">
							</iframe>
	                      </div>
	                    </div>
                    </div>

                    <br>
    			</section>
            	</div>

        	</div>
        <!-- /.container -->

        </div>
    </div>
    </section>

    <section id="machinelearning">
    <div class="content-section-machine">

        <div class="container">

            <div class="row">
				<h2 class="section-heading text-left hideme">Machine Learning Models</h2>
            	<hr class="header-divider-top hideme">
            	<P class="blue-text hideme">For the supervised machine learning part, various models were trained to predict whether an individual gets injured/killed given that there is an accident. Performance was measured with nested cross validation and the feature importance calculated.</P>
            	<div class="hideme" style="width:100%; height: 400px">
            	<section id="featurenet">
				<h3 class="section-subheading hideme">Feature Net - WordCloud</h2>
                <hr class="subheader-divider-top hideme">           
                <div class="col-sm-3 hideme" id="word-cloud-content"><P class="blue-text">For the supervised machine learning part, various models were trained to predict whether an individual gets injured/killed given that there is an accident. Performance was measured with nested cross validation and the feature importance calculated.</P></div>
                <div class="col-sm-9 hideme" id="word-cloud"></div>
                </section>
                </div>
                <div class="hideme" style="width:100%">
                <section id="performance">
                <h3 class="section-subheading hideme">Performance Evaluation of Different Models</h2>
                <hr class="subheader-divider-top hideme">    
                <div class="hideme" id="perform-plot"></div>
                </section>
               	</div>
            </div>

       </div>

    </div>
    </section>




    <footer class="footer-distributed">

            <div class="footer-right">
                <a href="http://nbviewer.jupyter.org/github/ShawnHouCHN/SDAV2017-Assignment2/blob/master/week_5/week_5_exercises.ipynb"><i class="fa fa-cloud"></i></a>
                <a href="https://drive.google.com/file/d/0BymjCBWE7wFzWHhyV2Y5NjQwX1U/view?usp=sharing"><i class="fa fa-book"></i></a>
                <a href="https://github.com/ShawnHouCHN/SDAV2017-Assignment2/tree/master/Assignment2"><i class="fa fa-github"></i></a>
            </div>

            <div class="footer-left">
                <p>Course: 02806 Social Data Analyse and Visualisation 2017</p>
                <p>Lecturer: Sune Lehmann Jørgensen</p>
            </div>

    </footer>



  <script type="text/javascript" src="https://d3js.org/d3.v4.min.js"></script>
  <script type="text/javascript" src="js/d3.layout.cloud.js"></script>
  <script type="text/javascript" src="https://cdn.plot.ly/plotly-latest.min.js"></script>
  <!-- <script type="text/javascript" src="js/week7.js"></script> -->
  <!--  <script type="text/javascript" src="js/week8.js"></script> -->
  <script type="text/javascript" src="js/project-d3-pre.js"></script>
   <script type="text/javascript" src="js/project-d3-ml.js"></script>
  <!-- jQuery -->
  <script src="js/jquery.js"></script>
  <script src="js/jquery.easing.min.js"></script>
  <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
  <!-- Bootstrap Core JavaScript -->
  <!--<script type="text/javascript" src="js/ownjs.js"></script> -->
  <script src="js/bootstrap.min.js"></script>

  <script src="js/scrolling-nav.js"></script>
  <script src="js/animate.min.js"></script>

  

  </body>
</html>